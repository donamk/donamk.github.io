<!DOCTYPE html>
<html lang="ko-KR">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.67.0" />

    
    
    

<title>헤스켈 프로젝트 설정 • </title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="헤스켈 프로젝트 설정"/>
<meta name="twitter:description" content="들어가지 전에 이전 헤스켈 설치 포스트를 따라 제대로 설정했다면 해당 포스트에서 모든 기능이 제대로 동작할 것이다.
프로젝트 생성 Haskell 프로젝트는 stack new &lt;project-name&gt;을 사용에 생성할 수 있다.
stack new gs-haskell 프로젝트 설정 프로젝트를 생성 했다고 바로 쓸 수 있는것이 아니라 필요한 라이브러리를 땡겨오는 설정이 필요하다.
cd gs-haskell stack setup Stack has not been tested with GHC versions above 8.6, and using 8.8.3, this may fail Preparing to install GHC to an isolated location."/>

<meta property="og:title" content="헤스켈 프로젝트 설정" />
<meta property="og:description" content="들어가지 전에 이전 헤스켈 설치 포스트를 따라 제대로 설정했다면 해당 포스트에서 모든 기능이 제대로 동작할 것이다.
프로젝트 생성 Haskell 프로젝트는 stack new &lt;project-name&gt;을 사용에 생성할 수 있다.
stack new gs-haskell 프로젝트 설정 프로젝트를 생성 했다고 바로 쓸 수 있는것이 아니라 필요한 라이브러리를 땡겨오는 설정이 필요하다.
cd gs-haskell stack setup Stack has not been tested with GHC versions above 8.6, and using 8.8.3, this may fail Preparing to install GHC to an isolated location." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://donam.dev/posts/haskell-0/" />
<meta property="article:published_time" content="2020-04-18T11:39:18+10:00" />
<meta property="article:modified_time" content="2020-04-18T11:39:18+10:00" /><meta property="og:site_name" content="devlog" />


    








<link rel="stylesheet" href="/scss/hyde-hyde.3081c4981fb69a2783dd36ecfdd0e6ba7a158d4cbfdd290ebce8f78ba0469fc6.css" integrity="sha256-MIHEmB&#43;2mieD3Tbs/dDmunoVjUy/3SkOvOj3i6BGn8Y=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/code.css">
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://donam.dev/"></a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://donam.dev/img/hugo.png" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         Donam&#39;s dev log 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle"></label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/kdnmih" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://facebook.com/kdnmih" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/donamk" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/kdnmih" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	<a href="mailto:donam.kim_AT_hotmail.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2020 Donam Kim
  
    <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>헤스켈 프로젝트 설정</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> 18 Apr 2020
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/dev">DEV</a>
              •
          
              <a class="badge badge-category" href="/categories/haskell">HASKELL</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/haskell">haskell</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 3 min read
</div>


  </header>
  
  
  <div class="post">
    <h1 id="들어가지-전에">들어가지 전에</h1>
<p>이전 <a href="/posts/haskell-installation">헤스켈 설치</a> 포스트를 따라 제대로 설정했다면 해당 포스트에서 모든 기능이 제대로 동작할 것이다.</p>
<h1 id="프로젝트-생성">프로젝트 생성</h1>
<p>Haskell 프로젝트는 <code>stack new &lt;project-name&gt;</code>을 사용에 생성할 수 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stack new gs-haskell
</code></pre></div><h1 id="프로젝트-설정">프로젝트 설정</h1>
<p>프로젝트를 생성 했다고 바로 쓸 수 있는것이 아니라 필요한 라이브러리를 땡겨오는 설정이 필요하다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd gs-haskell
stack setup

Stack has not been tested with GHC versions above 8.6, and using 8.8.3, this may fail
Preparing to install GHC to an isolated location.
This will not interfere with any system-level installation.
ghc-8.8.3:   23.24 MiB / 259.72 MiB <span style="color:#f92672">(</span>  8.95%<span style="color:#f92672">)</span> downloaded...^C
</code></pre></div><p>하지만 갑자기 8.6에서는 테스트 되지 않았다면서 GHC 8.8.3 버전을 설치하려고 하는것을 볼 수 있다. 그냥 내비두고 사용해도 상관없지만 지금까지 설정을 GHC 8.6에 맞춰 구성 했으므로 stack.yaml을 GHC8.6을 사용하도록 약간 수정하자.</p>
<p>stackage 사이트에 <a href="https://www.stackage.org/lts-14.27">ghc-8.6.5로 검색</a>하면 lts-14.27이 나온다 따라서 stack.ymal 파일에서 resolver를 15.8에서 14.27로 다음과 같이 다운 그레이드 하자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># stack.yaml</span>
<span style="color:#75715e"># ...</span>

<span style="color:#75715e"># The location of a snapshot can be provided as a file or url. Stack assumes</span>
<span style="color:#75715e"># a snapshot provided as a file might change, whereas a url resource does not.</span>
#
<span style="color:#75715e"># resolver: ./custom-snapshot.yaml</span>
<span style="color:#75715e"># resolver: https://example.com/snapshots/2018-01-01.yaml</span>
resolver: lts-14.27

<span style="color:#75715e"># ...</span>
</code></pre></div><p>이제 다시 <code>stack setup</code>을 실행하면 다음과 같은 메시지가 나올 것이다</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stack will use a sandboxed GHC it installed
For more information on paths, see <span style="color:#e6db74">&#39;stack path&#39;</span> and <span style="color:#e6db74">&#39;stack exec env&#39;</span>
To use this GHC and packages outside of a project, consider using:
stack ghc, stack ghci, stack runghc, or stack exec
</code></pre></div><h1 id="hello-world-작성">Hello World 작성</h1>
<p>혹시라도 VS Code로 폴더를 열었을 때 다음과 같은 경고가 난다면 무시하자.</p>
<p>cannot satisfy -package-id gs-haskell-0.1.0.0-2J7PzFtne691f39TvDDj6F (use -v for more information)</p>
<p>이제 VS Code에서 gs-haskell 폴더를 열고 프로젝트 구조를 살펴보자. 프로젝트에는 다음의 3개 폴더가 있음을 볼 수 있다.
<img src="/stack-project-structure.png" alt="project-structure"></p>
<p>너무 직관적이라 설명할 것이 필요 없다고 생각된다. 해당 폴더를 열어서 살펴보자
app 폴더 밑에는 프로그램의 시작점인 Main.hs가 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Main.hs</span>

module Main where

import Lib

main :: IO <span style="color:#f92672">()</span>
main <span style="color:#f92672">=</span> someFunc

</code></pre></div><p>IO위에 마우스 커서를 올려보자 문서가 보여야 하는데 안보일 것이다. 다음을 콘솔에서 실행하자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stack haddock --keep-going
</code></pre></div><p>이제 마우스를 올려 IO 위에 올려 보면 IO에 대한 설명이 다음과 같이 잘 나올것이다.</p>
<p><img src="/haskell-hover-1.png" alt="haskell-doc-hover"></p>
<p>main 함수에서 Lib을 import 함을 볼 수 있었으므로 src폴더에 있는 Lib.hs 파일에 있는 함수를 수정해보자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#f92672">#</span> src<span style="color:#f92672">/</span><span style="color:#66d9ef">Lib</span><span style="color:#f92672">.</span>hs

<span style="color:#75715e">-- 생략 ...</span>
<span style="color:#a6e22e">someFunc</span> <span style="color:#f92672">::</span> <span style="color:#66d9ef">IO</span> ()
<span style="color:#a6e22e">someFunc</span> <span style="color:#f92672">=</span> putStrLn <span style="color:#e6db74">&#34;Hello world&#34;</span>
</code></pre></div><p>혹시라도 잘못 입력하면 이렇게 hlint가 알려주는 것을 볼 수 있다.
<img src="/haskell-hover-1.png" alt="haskell-doc-hover"></p>
<p>이제 빌드전에 프로젝트를 테스트 해보자. test폴더 밑에 Spec.hs 파일이 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#75715e">-- Spec.hs</span>

<span style="color:#a6e22e">main</span> <span style="color:#f92672">::</span> <span style="color:#66d9ef">IO</span> ()
<span style="color:#a6e22e">main</span> <span style="color:#f92672">=</span> putStrLn <span style="color:#e6db74">&#34;Test suite not yet implemented&#34;</span>
</code></pre></div><p>다소 황당한 테스트지만 어찌 됐든 실행해보자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stack test
<span style="color:#75715e"># 생략 ...</span>
Completed <span style="color:#ae81ff">2</span> action<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>.
</code></pre></div><p>테스트가 성공 했으니 이제 프로젝트를 빌드해보자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stack build
<span style="color:#75715e"># 생략 ...</span>
Installing executable gs-haskell-exe in /Users/shootingstar/Code/gs-haskell/.stack-work/install/x86_64-osx/5f10f8.../8.6.5/bin
Registering library <span style="color:#66d9ef">for</span> gs-haskell-0.1.0.0.
</code></pre></div><p>build 할 때 보여준 폴더로 이동해서 파일을 실행 해보자</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd .stack-work/install/x86_64-osx/5f10f8.../8.6.5/bin
./gs-haskell-exe
Hello world from testFunc
</code></pre></div><p>잘 실행되는 것을 볼 수 있다.</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/haskell-installation/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">헤스켈 설치</span>
    </a>
    
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'donamk';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>





    



    </body>
</html>
